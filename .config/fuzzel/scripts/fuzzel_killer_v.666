#!/usr/bin/env bash

# Wayland
MENU="fuzzel -d --log-level error"
# X11
#MENU="$usr/bin/dmenu"


selected="$(ps -a -u $USER | \
            $MENU -l 30 -w 50 -f "JetBrains Mono:size=14" --line-height=25 -p "Kill! " | \
            awk '{print $1" "$4}')"; 

if [[ ! -z $selected ]]; then

    answer="$(echo -e "Yes\nNo" | \
            $MENU -w 20 -l 2 -p "Kill $selected?")"

    if [[ $answer == "Yes" ]]; then
        selpid="$(awk '{print $1}' <<< $selected)"; 
        kill -9 $selpid
    fi
fi

exit 0
